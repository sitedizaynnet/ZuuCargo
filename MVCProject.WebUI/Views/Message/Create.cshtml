
@{
    ViewBag.Title = "Yeni Mesaj Yaz";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ProviderVM providerVM = new ProviderVM();

    if (ViewBag.Provider!=null)
    {
         providerVM = (ProviderVM)ViewBag.Provider;
    }


}
@using MVCProject.Common.ViewModels
@model MessageReplyVM
<br />
<br />
<div class="row">
    <div class="col-md-12">
        @if (providerVM != null)
    {
        <div class="col-md-4">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title ">
                        Firma Bilgileri
                    </h3>
                </div>
                <div class="panel-body">

                    <h4><text>@providerVM.ProviderName</text></h4>
                    <ul>
                        <li>@providerVM.AuthorizedPersonnelName</li>
                        <li>@providerVM.Phone</li>
                        <li>@providerVM.Email</li>
                        <li>@providerVM.WebSite</li>

                    </ul>


                </div>
            </div>

        </div>
    }
        <div class="col-md-8">
            <!-- panel start-->
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h3 class="panel-title ">
                        Yeni Mesaj Yaz
                    </h3>
                </div>
                <div class="panel-body">
                    <div class="form-horizontal container">
                        @using (Html.BeginForm("PostMessage", "Message", FormMethod.Post, new { @id = "form-post-message", @class = "form-horizontal" }))
                    {
                        <div class="form-column col-md-8">
                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })


                            @Html.HiddenFor(p => p.Message.ToId, new { @class = "form-control", @value = ViewBag.ToId })

                            <div class="form-group">
                                <label class="col-sm-4 control-label">Konu</label>
                                <div class="col-sm-4">

                                    @Html.TextBoxFor(p => p.Message.Subject, new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.Message.Subject)

                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-4 control-label">Mesajınız</label>
                                <div class="col-sm-4">
                                    @Html.TextAreaFor(p => p.Message.MessageToPost, new { @rows = 8, @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.Message.MessageToPost)
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-4 control-label"></label>
                                <div class="col-sm-4">
                                    <input type="submit" class="btn btn-primary right" value="Mesaj Gönder">
                                </div>
                            </div>
                        </div>
                }
                    </div>
                </div>
            </div>
            <!-- end panel-->

        </div>
    </div>

</div>
<br />
<br />
<br />
<br />
